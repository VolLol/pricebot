#PriceBot

Пример телеграм-бота для демонстрации моих навыков программирования на Java. Данный бот создан для отслеживания динамики цены на товары с сайта avito.ru. 

#Структура проекта
Приложение разделено на модули, выполняющие следующие задачи:
1. core - запуск сервера, обработка telegram команд, запуск планировщика
1. graphic - генерация графика изменения цены
1. harvester - сбор информации с avito.ru
1. store - работа с базой данных

На изображении ниже отображены связи модулей внутри проекта.
 ![Structure](https://i.ibb.co/k4X0VLb/common-diagram.jpg)


Реализованы следующие команды:
 1. /start - пользователю выводится приветственное сообщение со списком возможных команд
 1. /add - добавить товар в наблюдение
 1. /showall - показать все товары из списка наблюдения
 1. /deleteall - удаляет все товары из списка наблюдения
 1. /showdiagram - показывает сгенерированное изображение графика изменения цены
 1. /help - показывает список всех доступных команд
 
 # Сборка и запуск проекта локально
Для работы требуется зарегистрировать имя и получить токен телеграм-бота. Это можно сделать через @BotFather. Выбранное имя и полученный токен необходимо разместить в классе PriceBotServerConfig в переменных BOT_NAME и TOKEN соответственно.

Так же для проекта необходима база данных PostgreSql. Для этого можно использовать Docker выполнив следующую команду:
```bash
docker-compose.exe up -d
```
Потребности ручной генерации базы данных отсутствует, так как скрипты для данной задачи вшиты в миграцию базы данных. 

Далее необходимо запустить сервер используя следующу комманду:
```bash
gradle run
```

#Демонстраци работы сервера
![Server side](https://i.ibb.co/mRjHzRb/render1597924280359.gif)

#Демонстраци работы клиента
[![TelegramAvitoParserBot](https://res.cloudinary.com/marcomontalbano/image/upload/v1597941345/video_to_markdown/images/youtube--uURNdyMzTCE-c05b58ac6eb4c4700831b2b3070cd403.jpg)](https://youtu.be/uURNdyMzTCE "TelegramAvitoParserBot")