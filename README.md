#PriceBot

Пример телеграм-бота для демонстрации моих навыков программирования на Java. Данный бот создан для отслеживания динамики цены на товары с сайта avito.ru. 

#Структура проекта
Приложение разделено на модули, выполняющие следующие задачи:
1. core - запуск сервера, обработка telegram команд, запуск планировщика
1. graphic - генерация графика изменения цены
1. harvester - сбор информации с avito.ru
1. store - работа с базой данных

На изображении ниже отображены связи модулей внутри проекта.
 ![Structure](https://i.ibb.co/k4X0VLb/common-diagram.jpg)


Реализованы следующие команды:
 1. /start - пользователю выводится приветственное сообщение со списком возможных команд
 1. /add - добавить товар в наблюдение
 1. /showall - показать все товары из списка наблюдения
 1. /deleteall - удаляет все товары из списка наблюдения
 1. /showdiagram - показывает сгенерированное изображение графика изменения цены
 1. /help - показывает список всех доступных команд
 
#Сборка и запуск проекта локально
Для работы требуется зарегистрировать имя и получить токен телеграм-бота. Это можно сделать через @BotFather. Выбранное имя и полученный токен необходимо разместить в классе PriceBotServerConfig в переменных BOT_NAME и TOKEN соответственно.

Так же для проекта необходима база данных PostgreSql. Для этого можно использовать Docker выполнив следующую команду:
```bash
docker-compose.exe up -d
```
Потребности ручной генерации базы данных отсутствует, так как скрипты для данной задачи вшиты в миграцию базы данных. 

Далее необходимо запустить сервер используя следующу комманду:
```bash
gradle run
```

#Демонстраця работы 

Пример работы сервера можно посмотреть [здесь](https://terminalizer.com/view/d40ca1b14212), а клиента [здесь](https://youtu.be/uURNdyMzTCE).

Вывод графика показан ниже
![Chart Example](https://i.ibb.co/hmBw2r8/price-chart-example.jpg)
